# 웹 사이트 기능 TODO
*   **파일 뷰어 기능 강화 (`web/file_viewer.php`):**
    *   업로드된 파일을 안전하게 미리 볼 수 있는 기능을 구현합니다. (예: 이미지 썸네일 생성, 텍스트 파일 내용 표시 등)
    *   악성 스크립트 실행을 방지하기 위해 샌드박스 환경에서 파일을 렌더링하는 것을 고려합니다.
*   **게시판 기능 확장 (`web/board.php`):**
    *   게시글 작성, 수정, 삭제 기능 구현.
    *   페이징, 검색 기능 추가.
    *   댓글 기능 추가.
*   **관리자 페이지 기능 (`web/api/admin.php`):**
    *   사용자 관리 (생성, 수정, 삭제).
    *   업로드된 파일 관리 (목록, 삭제).
    *   로그 뷰어.

# 보안 기능 TODO
*   **파일 업로드 보안 기능 활성화 및 강화 (`web/upload.php`):**
    *   주석 처리된 `allowed_extensions` 및 `allowed_mime_types` 검사 코드를 활성화합니다.
    *   업로드된 파일의 실제 MIME 타입을 정확히 확인하고, 허용된 타입만 통과시키도록 합니다.
    *   `uploads/shell.php`와 같은 악성 파일 업로드를 방지하기 위해 PHP 파일 및 기타 실행 가능한 스크립트 파일의 업로드를 엄격히 금지합니다.
    *   파일 이름에 대한 추가적인 유효성 검사 및 정화를 수행하여 잠재적인 경로 탐색 공격을 완전히 방지합니다.
    *   업로드된 파일의 이름을 고유하게 변경하여 파일 덮어쓰기 및 정보 유출을 방지합니다 (예: `uniqid()` 또는 해싱 사용).
    *   업로드 파일 크기 제한을 명시적으로 설정합니다.
*   **SQL Injection 방지:**
    *   모든 데이터베이스 쿼리에 Prepared Statements를 사용하도록 변경합니다 (`web/includes/db.php` 및 기타 DB 상호작용 파일). 현재 `db.php`에는 연결만 있고 쿼리 예시는 없지만, 모든 쿼리에 적용해야 합니다.
*   **XSS (Cross-Site Scripting) 방지:**
    *   사용자로부터 입력받은 모든 데이터를 출력하기 전에 `htmlspecialchars()` 또는 유사한 함수를 사용하여 적절히 이스케이프 처리합니다.
*   **세션 보안 강화:**
    *   로그인 시 `session_regenerate_id(true)`를 사용하여 세션 고정(Session Fixation) 공격을 방지합니다.
    *   세션 타임아웃을 설정하고, 비활동 시 세션을 자동으로 만료시킵니다.
*   **SSRF, SSTI, XXE, 역직렬화, JWT 등 기타 취약점 점검 및 방어:**
    *   현재 코드베이스에서 발생할 수 있는 잠재적인 SSRF, SSTI, XXE, 역직렬화, JWT 관련 취약점을 식별하고 방어 메커니즘을 구현합니다.

# 기존 코드 수정 TODO

## 2. 오류 처리 및 로깅 개선
*   **전역 오류 핸들러 구현:**
    *   사용자에게 친숙한 오류 메시지를 제공하고, 개발자에게는 상세한 오류 정보를 기록하는 전역 오류 핸들러를 설정합니다.
*   **로그 시스템 구축:**
    *   보안 이벤트, 애플리케이션 오류, 중요한 사용자 활동 등을 기록하는 로깅 시스템을 구현합니다. (예: `web/logs` 디렉토리 활용)

## 3. 설정 관리 개선
*   **데이터베이스 자격 증명 분리:**
    *   `web/includes/db.php`에 하드코딩된 데이터베이스 자격 증명을 웹 루트 외부에 있는 별도의 설정 파일(예: `.env` 파일)로 이동하고, 안전하게 로드하도록 합니다.

## 4. 코드 품질 및 유지보수성 향상
*   **입력 유효성 검사 및 정화:**
    *   모든 사용자 입력에 대해 서버 측 유효성 검사 및 정화를 철저히 수행합니다.
*   **코드 모듈화:**
    *   반복되는 코드나 특정 기능을 담당하는 코드를 함수나 클래스로 분리하여 재사용성과 유지보수성을 높입니다. (예: 사용자 인증 로직, 파일 처리 로직 등)
*   **주석 및 문서화:**
    *   복잡한 로직이나 중요한 기능에 대한 주석을 추가하여 코드 이해도를 높입니다.
*   **PHP 버전 및 의존성 관리:**
    *   사용 중인 PHP 버전이 최신 보안 패치를 포함하는지 확인하고, Composer와 같은 도구를 사용하여 의존성을 관리하는 것을 고려합니다.